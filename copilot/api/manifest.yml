name: api
type: Load Balanced Web Service

http:
  path: '/'
  healthcheck:
    grace_period: 180s

image:
  build: Dockerfile
  port: 8080

cpu: 2048       # Number of CPU units for the task.
memory: 4096    # Amount of memory in MiB used by the task.
count: 1       # Number of tasks that should be running in your service.
exec: true     # Enable running commands in your container.
platform: linux/arm64 # Graviton ftw
variables:
  SPRING.DATA.MONGODB.USERNAME: "superusername"
  SPRING.DATA.MONGODB.PASSWORD: "superSecurePassword"
  SPRING.DATA.MONGODB.HOST:
    from_cfn: MongoHost
  SPRING.DATA.MONGODB.PORT:
    from_cfn: MongoPort